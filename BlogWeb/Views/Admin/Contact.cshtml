@model IEnumerable<BlogWeb.DL.Models.Contact>
@{
    ViewData["Title"] = "Contact";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@{
    int adet = Convert.ToInt16(TempData["ContactCount"]);
    int EklemeSonuc = Convert.ToInt16(TempData["EklemeSonuc"]);
    int GüncellemeSonuc = Convert.ToInt16(TempData["GüncellemeSonuc"]);
}
@if (adet == 0)
{

    <div class="alert alert-dismissible alert-warning">
        <h4 class="alert-heading">Uyarı!</h4>
        <p class="mb-0" style="color:black;">Henüz İletişim Bilgisi Eklemediniz.</p>
    </div>
    <a asp-controller="Admin" asp-action="ContactCreate" class="btn btn-success mx-2">Hemen Ekle</a>
}


@if (EklemeSonuc == 1)
{
    <div class="alert alert-dismissible alert-success">
        @*<button type="button" class="btn-close" data-bs-dismiss="alert"></button>*@
        <strong>Ekleme Başarılı!</strong> <p> İletişim Başarılı Bir Şekilde Eklendi</p>
    </div>
}
@if (GüncellemeSonuc == 1)
{
    <div class="alert alert-dismissible alert-success">
        <strong>Güncelleme Başarılı!</strong> <p>İletişim Başarılı Bir Şekilde Güncellendi </p>
    </div>
}

@foreach (var item in Model)
{
    @*<div class="card-header">
        İletişim
    </div>
    <div class="card-body">
        <p class="card-text">@item.Address</p>
        <p class="card-text">@item.EmailAddress</p>
        <p class="card-text">@item.Phone</p>
        <br>
        <a asp-controller="Admin" asp-action="GetContact" asp-route-id="@item.Id" class="btn btn-primary mx-2">Düzenle</a> &nbsp;  / &nbsp;
        <a onclick="deneme(@item.Id)" class="btn btn-primary mx-2">Sil</a> &nbsp;
    </div>*@


    <div class="card mb-3">

        <div class="row">
            <div class="col-md-6">
                <div class="card-body">

                    <p class="card-text">@item.Address</p>
                    <p class="card-text">@item.EmailAddress</p>
                    <p class="card-text">@item.Phone</p>
                    <br>
                    <a asp-controller="Admin" asp-action="GetContact" asp-route-id="@item.Id" class="btn btn-warning ">Düzenle</a>
                    <a onclick="deneme(@item.Id)" class="btn btn-danger mx-2">Sil</a>
                </div>
            </div>
            <div class="col-md-6">
                <div style="width: 100%"><iframe width="100%" height="300" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=100%25&amp;hl=en&amp;q=@item.Address; t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe></div>
            </div>
        </div>


    </div>

}


<script>
    function deneme(id) {
        swal({
            title: "Emin misiniz?",
            text: "İletişim bilgisini silmek için emin misiniz?",
            icon: "warning",
            buttons: true,
            dangerMode: true,
        })
            .then((willDelete) => {
                if (willDelete) {
                    window.location.replace('/Admin/ContactDelete/' + id),
                        swal("Poof! İletişim Bilgileri Silindi!", {
                            icon: "success",
                        });
                }
            });
    }


</script>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
