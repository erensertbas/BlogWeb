@model IEnumerable<BlogWeb.DL.Models.Category>
@{
    ViewData["Title"] = "Category";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@{
    int adet = Convert.ToInt16(TempData["CategoryCount"]);
}
@if (adet == 0)
{
    <div class="alert alert-warning" role="alert"> <h6>Henüz Kategori Eklemediniz</h6></div>
}
<table class="table table-bordered table-striped" style="width:100%;">
    <thead class="thead-dark">
        <tr>
            <th>Kategori Adı</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td width:50%;>@item.CategoryName</td>
                <td>
                    <div class="btn-group">
                        <a asp-controller="Admin" asp-action="GetCategory" asp-route-id="@item.CategoryId" class="btn btn-primary mx-2">Düzenle</a> &nbsp;  / &nbsp;
                        <a onclick="deneme(@item.CategoryId)" class="btn btn-danger">Sil</a>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>

<a asp-controller="Admin" asp-action="CategoryCreate" class="btn btn-success" style="color:white; border-radius:2px;">Hemen Ekle</a>

<script>
    function deneme(id) {
        swal({
            title: "Emin misiniz?",
            text: "Kategori bilgisini silmek için emin misiniz?",
            icon: "warning",
            buttons: true,
            dangerMode: true,
        })
            .then((willDelete) => {
                if (willDelete) {
                    window.location.replace('/Admin/CategoryDelete/' + id),
                        swal("Poof! Kategori Silindi!", {
                            icon: "success",
                        });
                }
            });
    }


</script>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
